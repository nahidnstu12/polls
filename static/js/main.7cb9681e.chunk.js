(this.webpackJsonppolls=this.webpackJsonppolls||[]).push([[0],{22:function(e,t,a){e.exports=a(47)},27:function(e,t,a){},28:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),o=a(10),r=a.n(o),i=(a(27),a(7)),c=(a(28),a(61)),u=a(57),s=a(58),m=a(50),d=a(51),p=a(52),v=a(54),g=a(16),f=a(62),E=a(48),h=a(49),b=a(53),O=a(9),y=a.n(O),j=[{id:y.a.generate(),value:"",vote:0},{id:y.a.generate(),value:"",vote:0}],S=[{id:y.a.generate(),value:"",vote:0},{id:y.a.generate(),value:"",vote:0}];var k=function(e){var t=e.modal,a=e.toggle,o=e.submit,r=e.btnValue,c=e.header,u=e.poll,s=e.isUpdate,O=Object(n.useState)(""),k=Object(i.a)(O,2),w=k[0],P=k[1],N=Object(n.useState)(""),C=Object(i.a)(N,2),V=C[0],x=C[1],A=Object(n.useState)(j),D=Object(i.a)(A,2),T=D[0],W=D[1],Y=Object(n.useState)({}),U=Object(i.a)(Y,2),B=U[0],F=U[1];Object(n.useEffect)((function(){u&&Object.keys(u).length>0&&(P(u.title),x(u.description),W(u.options))}),[u]);var J={title:w,description:V,options:T};return l.a.createElement("div",null,l.a.createElement(f.a,{isOpen:t,toggle:a,unmountOnClose:!0},l.a.createElement(E.a,{toggle:a},c),l.a.createElement(h.a,null,l.a.createElement(m.a,{onSubmit:function(e){e.preventDefault();var t=function(){var e={};w?w.length<5?e.title="Title too short":w.length>100&&(e.title="Title too long"):e.title="Please Provide A Poll Title",V?V.length>500&&(e.description="Description too long"):e.description="Please Provide A Poll description";var t=[];return T.forEach((function(e,a){e.value?e.value.length>20&&(t[a]="Option Text too long"):t[a]="Option Empty"})),t.length>0&&(e.options=t),{errors:e,isValid:0===Object.keys(e).length}}(),a=t.isValid,n=t.errors;a?s?(J.id=u.id,o(J),alert("Update is Successfully")):(o(J),alert("Submit Successfully"),e.target.reset(),P(""),x(""),W(S),F({})):F(n)}},l.a.createElement(d.a,null,l.a.createElement(p.a,{type:"text",placeholder:"Give a poll title",className:"my-2",value:w,onChange:function(e){return P(e.target.value)},name:"title",invalid:!!B.title}),B.title&&l.a.createElement(b.a,null,B.title),l.a.createElement(p.a,{type:"textarea",placeholder:"Give a poll description",name:"description",onChange:function(e){return x(e.target.value)},value:V,invalid:!!B.description}),B.description&&l.a.createElement(b.a,null,B.description)),l.a.createElement(d.a,null,l.a.createElement("div",null," ",l.a.createElement("span",null,"Enter a option")," ",l.a.createElement(v.a,{color:"info",className:"ml-3",onClick:function(){var e=Object(g.a)(T);e.length<5?(e.push({id:y.a.generate(),value:"",vote:0}),W(e)):alert("You can create max 5 options")}},"Add New Options")," "),T.map((function(e,t){return l.a.createElement("div",{className:"d-flex my-2",key:e.id},l.a.createElement(p.a,{value:e.value,onChange:function(e){return function(e,t){var a=Object(g.a)(T);a[t].value=e.target.value,W(a)}(e,t)},invalid:!(!B.options||!B.options[t])}),l.a.createElement(v.a,{color:"danger",disabled:T.length<=2,className:"ml-2",onClick:function(){return function(e){var t=Object(g.a)(T);t.length>2?(t.splice(e,1),W(t)):alert("You must atleast two options")}(t)}},"Delete"),B.options&&l.a.createElement(b.a,null,B.options[t]))}))),l.a.createElement(v.a,{color:"primary"},r)))))},w=a(55),P=a(56);var N=function(e){var t=e.polls,a=e.selectPoll;return l.a.createElement(w.a,null,t.map((function(e){return l.a.createElement(P.a,{key:e.id,style:{cursor:"pointer",fontWeight:"600"},title:e.title,onClick:function(){return a(e.id)},className:"text-primary"},e.title.length>35?e.title.substr(0,35)+"...":e.title)})))};var C=function(e){var t=e.polls,a=e.selectPoll,o=e.handleSearch,r=e.submit,c=Object(n.useState)(!1),u=Object(i.a)(c,2),s=u[0],g=u[1],f=function(){return g(!s)};return l.a.createElement("div",null,l.a.createElement(m.a,{inline:!0},l.a.createElement(d.a,{className:"mr-2"},l.a.createElement(p.a,{type:"search",name:"search",placeholder:"Search Polls",onChange:function(e){return o(e.target.value.toLowerCase())}})),l.a.createElement(v.a,{color:"success",onClick:f},"Add Poll"),l.a.createElement(k,{modal:s,toggle:f,submit:r,btnValue:"Submit Poll",header:"Create A New Poll"})),l.a.createElement("div",{className:"mt-5"},l.a.createElement("h3",null,"Lists of polls"),l.a.createElement(N,{polls:t,selectPoll:a})))},V=a(63),x=a(59),A=a(60);var D=function(e){var t=e.poll,a=e.getOpinion,o=e.deletePoll,r=e.submit,c=Object(n.useState)(""),g=Object(i.a)(c,2),f=g[0],E=g[1],h=Object(n.useState)(""),O=Object(i.a)(h,2),y=O[0],j=O[1],S=Object(n.useState)({}),w=Object(i.a)(S,2),P=w[0],N=w[1],C=Object(n.useState)(!1),D=Object(i.a)(C,2),T=D[0],W=D[1],Y=function(){return W(!T)},U=function(){var e={};return y||(e.selectOption="Please Select Option"),f?f.length<3&&(e.title="Name too short"):e.name="Please provide a name",{errors:e,isValid:0===Object.keys(e).length}};return l.a.createElement("div",null,l.a.createElement("h3",null,t.title),l.a.createElement("p",null,t.description),l.a.createElement(u.a,{className:"mb-5 mt-4"},l.a.createElement(s.a,{md:6},l.a.createElement("h3",null,"Options")),l.a.createElement(s.a,null,l.a.createElement(v.a,{color:"warning",className:"mr-2",onClick:Y},"Edit"),l.a.createElement(v.a,{color:"danger",onClick:function(){window.confirm("Are You Sure to perform this action?")&&o(t.id)}},"Delete"))),l.a.createElement(k,{modal:T,toggle:Y,submit:r,btnValue:"Update Poll",header:"Update Poll Form",poll:t,isUpdate:!0}),l.a.createElement(m.a,{onSubmit:function(e){e.preventDefault();var n=U(),l=n.errors;n.isValid?(a({pollId:t.id,name:f,selectedOption:y}),e.target.reset(),E(""),j(""),N({})):N(l)}},t.options.map((function(e){return l.a.createElement(u.a,{key:e.id},l.a.createElement(s.a,null,l.a.createElement(d.a,null,l.a.createElement(V.a,{type:"radio",name:"selectedOption",id:e.id,onChange:function(e){return j(e.target.value)},label:e.value,value:e.id,invalid:!!P.selectOption}))),l.a.createElement(s.a,null,l.a.createElement(x.a,{color:"primary",className:"m-2 p-3",style:{fontSize:"100%"}},e.vote),l.a.createElement(x.a,{color:"danger",className:"p-3",style:{fontSize:"100%"}},t.totalVote>0?Math.ceil(100*e.vote/t.totalVote):0,"%")),P.selectOption&&l.a.createElement(b.a,null,P.selectOption))})),l.a.createElement(d.a,null,l.a.createElement(A.a,null,"Enter Your Name"),l.a.createElement(p.a,{type:"text",name:"name",placeholder:"Your name",onChange:function(e){return E(e.target.value)},invalid:!!P.name}),P.name&&l.a.createElement(b.a,null,P.name),l.a.createElement(v.a,{color:"success",className:"my-2"},"Submit Your Opinion"))))};var T=function(e){var t=e.poll,a=Object(n.useState)([]),o=Object(i.a)(a,2),r=o[0],c=o[1],u=Object(n.useState)(!1),s=Object(i.a)(u,2);return s[0],s[1],l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"room d-flex"},t.options.map((function(e){return l.a.createElement(v.a,{color:"info",key:e.id,className:"mx-2",onClick:function(){return function(e){var a=t.opinions.filter((function(t){return t.selectedOption===e}));c(a)}(e.id)}},e.value)}))),l.a.createElement("div",null,r.map((function(e){return l.a.createElement(w.a,{key:e.id,className:"mt-2"},l.a.createElement(P.a,{className:"text-center text-danger"},e.name))}))))};var W=function(e){var t=e.poll,a=e.getOpinion,n=e.deletePoll,o=e.submit;return l.a.createElement(l.a.Fragment,null,0===Object.keys(t).length&&l.a.createElement("div",null,l.a.createElement("h3",null,"Welcome to my ",l.a.createElement("em",null,"'Poll App'")),l.a.createElement("p",null,"You can create as many poll as you want.Click the new button create new poll.To check details poll,pls click select from the left sidebar.By selecting a poll,you can check its details,perticipate and check other opinion about this poll")),0!==Object.keys(t).length&&l.a.createElement(D,{poll:t,getOpinion:a,deletePoll:n,submit:o}),0!==Object.keys(t).length&&l.a.createElement(T,{poll:t}))},Y=[{id:"45",title:"What is your favourite programming language?",description:"There are lot of programming languages.Among them what is your favourite",options:[{id:"7113",value:"Java",vote:0},{id:"8213",value:"Javascript",vote:0},{id:"9333",value:"python",vote:0}],created:new Date,totalVote:0,opinions:[]},{id:"44",title:"What is your favourite language?",description:"There are lot of programming languages.Among them what is your favourite",options:[{id:"113",value:"Bangla",vote:0},{id:"213",value:"English",vote:0},{id:"333",value:"German",vote:0}],created:new Date,totalVote:0,opinions:[]},{id:"47",title:"What is your favourite Framework?",description:"There are lot of programming languages.Among them what is your favourite framework",options:[{id:"413",value:"Spring",vote:0},{id:"5213",value:"React",vote:0},{id:"6333",value:"Django",vote:0}],created:new Date,totalVote:0,opinions:[]}];var U=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)({}),m=Object(i.a)(r,2),d=m[0],p=m[1],v=Object(n.useState)(""),g=Object(i.a)(v,2),f=g[0],E=g[1];Object(n.useEffect)((function(){o(Y)}),[]);var h=a.filter((function(e){return e.title.toLowerCase().includes(f)}));return l.a.createElement(c.a,{className:"my-5"},l.a.createElement(u.a,null,l.a.createElement(s.a,{md:4},l.a.createElement(C,{polls:h,selectPoll:function(e){var t=a.find((function(t){return e===t.id}));p(t)},handleSearch:function(e){E(e)},submit:function(e){e.id=y.a.generate(),e.created=new Date,e.totalVote=0,e.opinions=[],o(a.concat(e))},searchTerm:f})),l.a.createElement(s.a,{md:8},l.a.createElement(W,{poll:d,getOpinion:function(e){var t=a.find((function(t){return t.id===e.pollId})),n=t.options.find((function(t){return t.id===e.selectedOption}));t.totalVote++,n.vote++;var l={id:y.a.generate(),name:e.name,selectedOption:e.selectedOption};t.opinions.push(l),o(a)},deletePoll:function(e){var t=a.filter((function(t){return t.id!==e}));o(t),p({})},submit:function(e){var t=a.find((function(t){return t.id===e.id}));t.title=e.title,t.description=e.description,t.options=e.options,o(a)}}))))};a(46),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.7cb9681e.chunk.js.map